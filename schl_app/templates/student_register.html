<!DOCTYPE html>
<html>
<title>Student Register Portal</title>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load staticfiles %}
    <link href="{% static 'styles.css' %}" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>

        .textbox
        {
        width: 30%;
        padding: 12px 20px;
        margin: 8px 0;
        box-sizing: border-box;
        border: none;
        border-bottom: 2px solid #345eeb;
        }
        #headings
        {
        font-family: Arial, Helvetica, sans-serif;
        color:#345eeb;
        font-size: 30px;
        }
        .submit {
              background-color: #345eeb;
              border: none;
              color: white;
              padding: 15px 32px;
              text-align: center;
              text-decoration: none;
              display: inline-block;
              font-size: 16px;
              margin: 4px 2px;
              cursor: pointer;
              border-radius:10px;
              margin-bottom:5px;
            }



    </style>
</head>
<center>
    <body>
    <div class="navbar">
        <a class="active" href="{% url 'home page' %}">Home</a>
        <div class="dropdown">
            <button class="dropbtn" onclick="login()">Login
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content" id="myDropdown">
                <a href="{% url 'teacher login' %}">Teacher</a>
                <a href="{% url 'student login' %}">Student</a>
            </div>
        </div>
    </div>

    <br>
    <br>
    <br>
    <h2>Student Register</h2>
    <form autocomplete="off" action="{%url 'student register'%}" method="POST"
          onsubmit="return validate_password(this)">
        {% csrf_token %}
        {% if messages %}
        {% for message in messages %}
        <p style="color: #fc0000;">{% if message.tags %} {% endif %} {{ message }}</p>
        {% endfor %}
        {% endif %}
        <div class="inputBox">
            <input name="first_name" required placeholder="Enter First Name" class="textbox">
        </div>
        <div class="inputBox">
            <input name="last_name" required placeholder="Enter Last Name" class="textbox">
        </div>
        <div class="inputBox">
            <input type="email" name="user_email" required placeholder="Enter Email" class="textbox">
        </div>
        <div class="inputBox">
            <input name="stu_father_name" required class="textbox" placeholder="Enter Student Father Name">
        </div>
        <div class="inputBox">
            <input type="number" name="mobile_no" required class="textbox" placeholder="Enter Student Mobile Number">
        </div>
        <div class="inputBox">
            <input type="number" name="standard" required class="textbox" placeholder="Enter Standard/Class">
        </div>
        <div class="radiobutton">
            <label>Gender</label>
            <input type="radio" name="gender" value="male" checked required> Male
            <input type="radio" name="gender" value="female" required> Female<br>
        </div>
        <div class="inputBox">
            <input type="Password" name="password" id="password" required class="textbox" placeholder="Enter Password"
                   pattern=".{3,}" title="Please Enter Minimum 6 Characters">
            <p id="msg"></p>
        </div>
        <div class="inputBox">
            <input type="Password" name="password2" id="password2" required class="textbox"
                   placeholder="Enter Confirm Password" pattern=".{3,}" title="Please Enter Minimum 6 Characters">
        </div>
        <div class="cal">
            <input type="date" id="date" data-date="" data-date-format="YYYY MMMM DD" name='student_DOB' value=""
                   class="textbox" required>
        </div>
        <input type="submit" class="submit" value="Register">
    </form>
    </body>
    <script>
            // Function to check Whether both passwords
             function validate_password(form) {
             var pass1 = document.getElementById('password');
             var pass2 = document.getElementById('password2');
                password1 = form.password.value;
                password2 = form.password2.value;
                var warningColor = "#fccf03";
                if (password1 != password2) {
                    document.getElementById("msg").innerHTML = "Passwords Mismatch!"
                    pass1.style.backgroundColor = warningColor;
                    pass2.style.backgroundColor = warningColor;
                    return false;
                }
                else
                {
                    alert("Registering Teacher")
                    return true;
                }
            }
            <!--     VALIDATE PASSWORD LENGTH IS MORE THAN 6 CHARACTERS        -->
             $('#password').on('blur', function ()
                 {
                 var message = document.getElementById('msg');
                 var pass1 = document.getElementById('password');
                 var goodColor = "#66cc66";
                 var badColor = "#ff6666";
                    if (this.value.length < 6)
                    {
                        message.innerHTML = "Password length must be 6 characters length!"
                        pass1.style.backgroundColor = badColor;
                        $(this).focus();
                    }
                    else
                    {
                        message.innerHTML = "Password length OK!"
                        pass1.style.backgroundColor = goodColor;
                        return false;
                    }
                });
              <!--     VALIDATE CONFIRM PASSWORD LENGTH IS MORE THAN 6 CHARACTERS        -->
             $('#password2').on('blur', function ()
                 {
                 var message = document.getElementById('msg');
                 var pass2 = document.getElementById('password2');
                 var goodColor = "#66cc66";
                 var badColor = "#ff6666";
                 message.innerHTML = ""
                    if (this.value.length < 6)
                    {
                        message.innerHTML = "Confirm Password length must be 6 characters length!"
                        pass2.style.backgroundColor = badColor;
                        $(this).focus();
                    }
                    else
                    {
                        message.innerHTML = ""
                        pass2.style.backgroundColor = goodColor;
                        return false;
                    }
                });
                <!--                -->
                 $('#date').on('blur', function ()
                 {
                 var message = document.getElementById('msg');
                 message.innerHTML = ""
                 return false;
                });


                function login() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(e) {
  if (!e.target.matches('.dropbtn')) {
  var myDropdown = document.getElementById("myDropdown");
    if (myDropdown.classList.contains('show')) {
      myDropdown.classList.remove('show');
    }
  }
}

    </script>
</center>
</html>
